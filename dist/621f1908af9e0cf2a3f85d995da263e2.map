{"version":3,"sources":["js/types.ts","js/scale.ts","js/update.ts","js/index.ts"],"names":[],"mappings":"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","file":"621f1908af9e0cf2a3f85d995da263e2.map","sourcesContent":["interface Scale {\n  xxs: number;\n  xs: number;\n  sm: number;\n  md: number;\n  lg: number;\n  xl: number;\n  xxl: number;\n}\n\ninterface DomElements {\n  root: HTMLHtmlElement;\n  relativeDisplays: HTMLLIElement[];\n  absoluteDisplays: HTMLLIElement[];\n  desktopScale: HTMLInputElement;\n  exponentialToggles: HTMLInputElement[];\n}\n\ninterface Model {\n  domElements: DomElements;\n  mobileFontSize: number;\n  desktopFontSize: number;\n  relativeScale: Scale;\n  absoluteScale: Scale;\n  ratio: number;\n}\n\nenum Msg {\n  UpdateScale = 'UPDATE_SCALE',\n  UpdateDesktopBaseSize = 'UPDATE_DESKTOP_BASE_SIZE',\n  UpdateMobileBaseSize = 'UPDATE_MOBILE_BASE_SIZE',\n  UpdateDisplay = 'UPDATE_DISPLAY',\n  UpdateRatio = 'UPDATE_RATIO',\n}\n\nexport { Scale, Model, DomElements, Msg };\n","import { Scale } from './types';\n\nfunction roundDecimals(num: number): number {\n  return Math.round(num * 100) / 100;\n}\n\nfunction exponentialScaleAbsolute(base: number, ratio: number): Scale {\n  const md = base;\n  const sm = roundDecimals(md / ratio);\n  const xs = roundDecimals(sm / ratio);\n  const xxs = roundDecimals(xs / ratio);\n  const lg = roundDecimals(md * ratio);\n  const xl = roundDecimals(lg * ratio);\n  const xxl = roundDecimals(xl * ratio);\n\n  return {\n    xxs,\n    xs,\n    sm,\n    md,\n    lg,\n    xl,\n    xxl,\n  };\n}\n\nfunction exponentialScaleRelative(base: number, ratio: number): Scale {\n  const md = base / base;\n  const sm = roundDecimals(md / ratio);\n  const xs = roundDecimals(sm / ratio);\n  const xxs = roundDecimals(xs / ratio);\n  const lg = roundDecimals(md * ratio);\n  const xl = roundDecimals(lg * ratio);\n  const xxl = roundDecimals(xl * ratio);\n\n  return {\n    xxs,\n    xs,\n    sm,\n    md,\n    lg,\n    xl,\n    xxl,\n  };\n}\n\nfunction linearScaleAbsolute(base: number, ratio: number): Scale {\n  const distance = base * ratio;\n  const md = base;\n  const sm = md - distance;\n  const xs = sm - distance;\n  const xxs = xs - distance;\n  const lg = md + distance;\n  const xl = lg + distance;\n  const xxl = xl + distance;\n\n  return {\n    xxs,\n    xs,\n    sm,\n    md,\n    lg,\n    xl,\n    xxl,\n  };\n}\n\nfunction linearScaleRelative(base: number, distance: number): Scale {\n  const md = base / base;\n  const sm = md - distance;\n  const xs = sm - distance;\n  const xxs = xs - distance;\n  const lg = md + distance;\n  const xl = lg + distance;\n  const xxl = xl + distance;\n\n  return {\n    xxs,\n    xs,\n    sm,\n    md,\n    lg,\n    xl,\n    xxl,\n  };\n}\n\nexport {\n  exponentialScaleAbsolute,\n  exponentialScaleRelative,\n  linearScaleAbsolute,\n  linearScaleRelative,\n};\n","import { Scale, Msg } from './types';\nimport { exponentialScaleAbsolute, exponentialScaleRelative } from './scale';\n\nfunction update(message: Msg, size?: number) {\n  const dom = (<any>window).Model.domElements;\n\n  switch (message) {\n    case 'UPDATE_RATIO':\n      (<any>window).Model.ratio = size;\n\n      update(Msg.UpdateScale);\n      break;\n\n    case 'UPDATE_SCALE':\n      const baseSize = (<any>window).Model.desktopFontSize;\n      const ratio = (<any>window).Model.ratio;\n      const relativeScale: Scale = exponentialScaleRelative(baseSize, ratio);\n      const absoluteScale: Scale = exponentialScaleAbsolute(baseSize, ratio);\n      (<any>window).Model.relativeScale = relativeScale;\n      (<any>window).Model.absoluteScale = absoluteScale;\n\n      Object.keys(relativeScale).map(key => {\n        dom.root.style.setProperty(`--space-${key}`, `${relativeScale[key]}rem`);\n      });\n\n      update(Msg.UpdateDisplay);\n      break;\n\n    case 'UPDATE_DESKTOP_BASE_SIZE':\n      dom.root.style.setProperty('--desktop-font-size', `${size}px`);\n      (<any>window).Model.desktopFontSize = size;\n\n      update(Msg.UpdateScale);\n      break;\n\n    case 'UPDATE_MOBILE_BASE_SIZE':\n      break;\n\n    case 'UPDATE_DISPLAY':\n      dom.relativeDisplays.map((element: HTMLLIElement) => {\n        const size = element.dataset.scale;\n        element.innerHTML = (<any>window).Model.relativeScale[size] + ' rem';\n      });\n      dom.absoluteDisplays.map((element: HTMLLIElement) => {\n        const size = element.dataset.scale;\n        element.innerHTML = (<any>window).Model.absoluteScale[size] + ' px';\n      });\n      break;\n\n    default:\n      break;\n  }\n}\n\nexport { update };\n","import { Model, DomElements, Msg } from './types';\nimport { update } from './update';\n\n(<any>window).Model = {};\n\n// init function\n(() => {\n  //////////////////////////////////////\n  // Build DOM elements for the model\n  //////////////////////////////////////\n\n  const domRoot = document.documentElement;\n  const relativeDisplayElements = Array.from(\n    document.querySelectorAll('[data-behavior~=\"get-relative-size\"]'),\n  );\n  const absoluteDisplayElements = Array.from(\n    document.querySelectorAll('[data-behavior~=\"get-absolute-size\"]'),\n  );\n  const desktopScale = document.querySelector('[data-behavior~=\"change-base-desktop\"]');\n  const exponentialToggles = Array.from(\n    document.querySelectorAll('[data-behavior~=\"get-new-scale\"]'),\n  );\n\n  const domElements: DomElements = {\n    root: domRoot as HTMLHtmlElement,\n    relativeDisplays: relativeDisplayElements as HTMLLIElement[],\n    absoluteDisplays: absoluteDisplayElements as HTMLLIElement[],\n    desktopScale: desktopScale as HTMLInputElement,\n    exponentialToggles: exponentialToggles as HTMLInputElement[],\n  };\n\n  //////////////////////////////////////\n  // Initialize the model\n  //////////////////////////////////////\n\n  const model: Model = {\n    domElements,\n    mobileFontSize: 14,\n    desktopFontSize: 18,\n    relativeScale: {\n      xxs: 0.2,\n      xs: 0.4,\n      sm: 0.8,\n      md: 1,\n      lg: 1.5,\n      xl: 2,\n      xxl: 4,\n    },\n    absoluteScale: {\n      xxs: 3,\n      xs: 7,\n      sm: 14,\n      md: 18,\n      lg: 27,\n      xl: 36,\n      xxl: 72,\n    },\n    ratio: 1.618,\n  };\n  (<any>window).Model = model;\n\n  //////////////////////////////////////\n  // Bind Listeners\n  //////////////////////////////////////\n\n  domElements.exponentialToggles.map(input => {\n    input.addEventListener('change', function() {\n      const size = parseFloat(this.value);\n      update(Msg.UpdateRatio, size);\n    });\n  });\n\n  domElements.desktopScale.addEventListener('change', function() {\n    const size = parseInt(this.value);\n    update(Msg.UpdateDesktopBaseSize, size);\n  });\n\n  update(Msg.UpdateDisplay);\n})();\n"]}